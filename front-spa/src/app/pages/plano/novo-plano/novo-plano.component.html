<section class="mx-4 mt-3 px-4 py-3 bg-white rounded-lg">
  <h1 class="text-2xl">{{ pageTitle }}</h1>
</section>

<section class="mx-4 mt-3 px-4 py-3 bg-white rounded-lg">
  <form [formGroup]="_form">
    <div class="mb-4">
      <label for="nome" class="block text-surface-900 font-medium mb-2"> Nome </label>
      <input
        formControlName="nome"
        id="nome"
        type="text"
        placeholder="Nome"
        class="w-full mb-1 border-2 border-gray-300 py-1 px-2 rounded-xl"
        [ngClass]="{
          'ng-dirty ng-invalid':
            this._form.controls.nome.invalid && this._form.controls.nome.touched
        }"
        required
      />
      @if (this._form.controls.nome.invalid && this._form.controls.nome.touched) {
      <p class="text-xs text-red-500 font-bold ml-1">Campo nome deve ser preenchido.</p>
      }
    </div>

    <div class="mb-4">
      <label for="codigo_registro_ans" class="block text-surface-900 font-medium mb-2">
        Registro ANS
      </label>
      <input
        formControlName="codigo_registro_ans"
        id="codigo_registro_ans"
        type="text"
        placeholder="Registro ANS"
        class="w-full mb-1 border-2 border-gray-300 py-1 px-2 rounded-xl"
        [ngClass]="{
          'ng-dirty ng-invalid': this._form.controls.codigo_registro_ans.invalid && this._form.controls.codigo_registro_ans.touched
        }"
        required
      />
      @if (this._form.controls.codigo_registro_ans.invalid && this._form.controls.codigo_registro_ans.touched) {
      <p class="text-xs text-red-500 font-bold ml-1">Campo registro ANS deve ser preenchido.</p>
      }
    </div>
  </form>
</section>

<section class="mx-4 mt-3 px-4 py-3 bg-white rounded-lg flex flex-row justify-end">
  @if (pageMode === 'create') {
    <button
      (click)="onSave()"
      class="px-2 rounded-lg bg-[#1bc95b] text-white hover:cursor-pointer hover:scale-110 mr-1"
    >
      <i class="pi pi-save"></i>
    </button>
  }
  @else {
    <button
      (click)="onEdit()"
      class="px-2 rounded-lg bg-[#1bc95b] text-white hover:cursor-pointer hover:scale-110 mr-1"
    >
      <i class="pi pi-save"></i>
    </button>
  }

  <button 
    (click)="returnToList()" 
    class="px-2 rounded-lg bg-[#ef4444] text-white hover:cursor-pointer hover:scale-110"
  >
    <i class="pi pi-times"></i>
  </button>
</section>
